{#
Block: wsc-headline
Überschrift mit vollständigen Styling-Optionen
#}

{% set tag = block.tag|default('h2') %}
{% set title = block.title|default('') %}
{% set subtitle = block.subtitle|default('') %}

{# Styling #}
{% set alignment = block.alignment|default('start') %}
{% set display = block.display|default('none') %}
{% set textColor = block.text_color|default('') %}

{# Margin #}
{% set marginTop = block.margin_top|default('mt-3') %}
{% set marginBottom = block.margin_bottom|default('mb-3') %}
{% set marginStart = block.margin_start|default('ms-0') %}
{% set marginEnd = block.margin_end|default('me-0') %}

{# Padding #}
{% set paddingTop = block.padding_top|default('pt-0') %}
{% set paddingBottom = block.padding_bottom|default('pb-0') %}
{% set paddingStart = block.padding_start|default('ps-0') %}
{% set paddingEnd = block.padding_end|default('pe-0') %}

{# Erweiterte Optionen #}
{% set cssClass = block.css_class|default('') %}
{% set htmlId = block.html_id|default('') %}

{# Emphasis-Farbe für Untertitel ableiten #}
{% set subtitleColor = '' %}
{% if textColor is not empty %}
    {% set subtitleColor = textColor ~ '-emphasis' %}
{% endif %}

{# Ausrichtung #}
{% set alignmentClass = '' %}
{% if alignment == 'center' %}
    {% set alignmentClass = 'text-center' %}
{% elseif alignment == 'end' %}
    {% set alignmentClass = 'text-end' %}
{% endif %}

{# Wrapper-Klassen (nur Spacing + Custom CSS) #}
{% set wrapperClasses = [] %}
{% if marginTop != 'mt-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginTop]) %}
{% endif %}
{% if marginBottom != 'mb-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginBottom]) %}
{% endif %}
{% if marginStart != 'ms-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginStart]) %}
{% endif %}
{% if marginEnd != 'me-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginEnd]) %}
{% endif %}
{% if paddingTop != 'pt-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingTop]) %}
{% endif %}
{% if paddingBottom != 'pb-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingBottom]) %}
{% endif %}
{% if paddingStart != 'ps-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingStart]) %}
{% endif %}
{% if paddingEnd != 'pe-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingEnd]) %}
{% endif %}
{% if cssClass is not empty %}
    {% set wrapperClasses = wrapperClasses|merge([cssClass]) %}
{% endif %}

{# Überschrift-Klassen (Display + Farbe + Ausrichtung) #}
{% set headingClasses = [] %}
{% if alignmentClass is not empty %}
    {% set headingClasses = headingClasses|merge([alignmentClass]) %}
{% endif %}
{% if display != 'none' and display is not empty %}
    {% set headingClasses = headingClasses|merge([display]) %}
{% endif %}
{% if textColor is not empty %}
    {% set headingClasses = headingClasses|merge([textColor]) %}
{% endif %}

{# Untertitel-Klassen (Ausrichtung + Emphasis-Farbe) #}
{% set subtitleClasses = ['lead'] %}
{% if alignmentClass is not empty %}
    {% set subtitleClasses = subtitleClasses|merge([alignmentClass]) %}
{% endif %}
{% if subtitleColor is not empty %}
    {% set subtitleClasses = subtitleClasses|merge([subtitleColor]) %}
{% endif %}

{# Finale Klassen-Strings #}
{% set wrapperClassString = wrapperClasses|join(' ') %}
{% set headingClassString = headingClasses|join(' ') %}
{% set subtitleClassString = subtitleClasses|join(' ') %}

{% if title is not empty %}
<div{% if htmlId %} id="{{ htmlId }}"{% endif %}{% if wrapperClassString %} class="{{ wrapperClassString }}"{% endif %}>
    <{{ tag }}{% if headingClassString %} class="{{ headingClassString }}"{% endif %}>
    {{- title -}}
    </{{ tag }}>
    {% if subtitle is not empty %}
        <p class="{{ subtitleClassString }}">
            {{- subtitle -}}
        </p>
    {% endif %}
    </div>
{% endif %}
