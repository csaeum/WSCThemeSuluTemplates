{#
    Block: wsc-list-group
    AufzÃ¤hlung / Liste mit Bootstrap List Group
#}

{% set items = block.items|default([]) %}

{# Layout #}
{% set listType = block.list_type|default('ul') %}
{% set listHorizontal = block.list_horizontal|default('') %}
{% set showBorder = block.show_border|default(true) %}

{# Margin #}
{% set marginTop = block.margin_top|default('mt-3') %}
{% set marginBottom = block.margin_bottom|default('mb-3') %}
{% set marginStart = block.margin_start|default('ms-0') %}
{% set marginEnd = block.margin_end|default('me-0') %}

{# Padding #}
{% set paddingTop = block.padding_top|default('pt-0') %}
{% set paddingBottom = block.padding_bottom|default('pb-0') %}
{% set paddingStart = block.padding_start|default('ps-0') %}
{% set paddingEnd = block.padding_end|default('pe-0') %}

{# Erweiterte Optionen #}
{% set cssClass = block.css_class|default('') %}
{% set htmlId = block.html_id|default('') %}

{# Wrapper-Klassen (Spacing) #}
{% set wrapperClasses = [] %}
{% if marginTop != 'mt-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginTop]) %}
{% endif %}
{% if marginBottom != 'mb-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginBottom]) %}
{% endif %}
{% if marginStart != 'ms-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginStart]) %}
{% endif %}
{% if marginEnd != 'me-0' %}
    {% set wrapperClasses = wrapperClasses|merge([marginEnd]) %}
{% endif %}
{% if paddingTop != 'pt-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingTop]) %}
{% endif %}
{% if paddingBottom != 'pb-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingBottom]) %}
{% endif %}
{% if paddingStart != 'ps-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingStart]) %}
{% endif %}
{% if paddingEnd != 'pe-0' %}
    {% set wrapperClasses = wrapperClasses|merge([paddingEnd]) %}
{% endif %}
{% if cssClass is not empty %}
    {% set wrapperClasses = wrapperClasses|merge([cssClass]) %}
{% endif %}

{# List-Group Klassen #}
{% set listClasses = ['list-group'] %}
{% if listType == 'ol' %}
    {% set listClasses = listClasses|merge(['list-group-numbered']) %}
{% elseif listType == 'flush' %}
    {% set listClasses = listClasses|merge(['list-group-flush']) %}
{% endif %}
{% if listHorizontal is not empty %}
    {% set listClasses = listClasses|merge([listHorizontal]) %}
{% endif %}

{# Finale Klassen-Strings #}
{% set wrapperClassString = wrapperClasses|join(' ') %}
{% set listClassString = listClasses|join(' ') %}

{# HTML-Tag bestimmen #}
{% set listTag = listType == 'ol' ? 'ol' : 'ul' %}

{% if items|length > 0 %}
<div{% if htmlId %} id="{{ htmlId }}"{% endif %}{% if wrapperClassString %} class="{{ wrapperClassString }}"{% endif %}>
    <{{ listTag }} class="{{ listClassString }}">
        {% for item in items %}
            {# Item-Klassen #}
            {% set itemClasses = ['list-group-item'] %}
            {% if item.item_color is defined and item.item_color is not empty %}
                {% set itemClasses = itemClasses|merge([item.item_color]) %}
            {% endif %}
            {% if item.item_active is defined and item.item_active %}
                {% set itemClasses = itemClasses|merge(['active']) %}
            {% endif %}
            {% if item.item_css_class is defined and item.item_css_class is not empty %}
                {% set itemClasses = itemClasses|merge([item.item_css_class]) %}
            {% endif %}
            {% set itemClassString = itemClasses|join(' ') %}

            <li class="{{ itemClassString }}"{% if item.item_active is defined and item.item_active %} aria-current="true"{% endif %}>
                {% if item.icon is defined and item.icon is not empty %}
                    <i class="fa-solid {{ item.icon }} me-2"></i>
                {% endif %}
                {{ item.text }}
            </li>
        {% endfor %}
    </{{ listTag }}>
</div>
{% endif %}
